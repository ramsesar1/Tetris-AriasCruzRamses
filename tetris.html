<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tetris Reach</title>
<style>
  canvas{
    background-color: #8000;
    display: block;
    margin: 0 auto;
  }
  </style>
</head>
<body>
  <canvas id="tetris" width="300" height="600"></canvas>

  <script>
    const canvas = document.getElementById('tetris');
    const ctxd = canvas.getContext('2d');

    const rows = 20;
    const cols = 10;
    const block_size = 30;

    //piezas
    const pieces =[
    [[1,1,1,1]], //pieza I
    [[0,2,0],[2,2,2]], //pieza T
    [[3,3],[3,3]], // pieza cubo
    [[0,4,4],[4,4,0]], // pieza S
    [[5,5,0],[0,5,5]], // pieza Z
    [[6,6,6],[6,0,0]], // pieza L
    [[7,7,7],[0,0,7]], // pieza J
    ];

    //limpiar el canvas
    function clearCanvas(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
    }

    //Controles
    document.addEventListener('keydown',event =>{
      if (event.key === 'ArrowLeft'){
        move(-1);
      }
        else if(event.key === 'ArrowRight'){
          move(1);
        }
        else if(event.key === 'ArrowDown'){
          drop();
        }
        else if(event.key === 'ArrowUp'){
          player.matrix = rotate(player.matrix);
          if(collide(grid, player)){
            player.matrix = rotate(player.matrix)
          }
        }
    });

    //cuadricula
    function createGrid(){
      const grid = [];
      while (grid.length < rows){
        grid.push(new Array(cols).fill(0));
      }
      return grid;
    }

    //iniciar el juego
    let grid = createGrid();
    let player = createPiece();
    
  </script>
  
</body>
</html>